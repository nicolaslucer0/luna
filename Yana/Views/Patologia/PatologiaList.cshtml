@{
    Layout = "~/Views/Shared/_LoggedLayout.cshtml";
}

<script type="text/javascript" language="javascript">

    function Create() {
        window.location.assign("./PatologiaManager/0");
    };

    function Edit(id) {
        window.location.assign("./PatologiaManager/" + id);
    };

    $(document).ready(function () {

        $.get('@Url.Action("GetPatologias", "Patologia")', function (data) {
            let { patologias } = data;
            let rows = '<tbody>';
            patologias.forEach(r => {
                rows += `<tr class="luna-card" style="font-size: 12px">
                            <td>
                                <div style="color: #6385dc; font-family: poppinsbold;">Nombre</div>
                                ${r.nombre}
                            </td>
                            <td>
                                <div style="color: #6385dc; font-family: poppinsbold;">Descripcion</div>
                                ${r.descripcion ? r.descripcion : 'Sin descripcion.'}
                            </td>
                        </tr>`
            });
            rows += `</tbody>`;
            
            $('#list').append(rows);
            $('#list').DataTable();
        });


    });
</script>


<div class="container">
        <div class="row">
            <div class="col-md-12">
                    <div class="flex-container">
                        <div class="panel-heading" style="font-size: 25px; margin-bottom: 30px;">
                            <strong style="font-family: 'poppinsbold'">Patologías cargadas</strong>
                        </div>
                        <button class="btn yanaButton" onclick="Create();"><i class='fa fa-plus-square fa-lg'></i> Nueva Patología</button>
                    </div>   
                    <div class="card" style="overflow-x: auto;">
                        <table id="list" class="luna-table" style="border-spacing: 20px;margin-top: 2em;">
                            <thead>
                                <tr style="display: none;">
                                    <th style="font-family: 'poppinsbold'" scope="col">Nombre</th>
                                    <th style="font-family: 'poppinsbold'" scope="col">Descripcion</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
        </div>
</div>

