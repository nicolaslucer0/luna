@using Yana.Helpers
@using Yana.Models.WrapperEntities
@{
    var menuItems = UserCache.MenuItems;
}
<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>YANA ~ Si lo sentís, importa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="~/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/css/bootstrap-5.2.1.min.css">
    <link rel="stylesheet" href="~/css/animate.css">
    <link rel="stylesheet" href="~/css/site.css">
    <link rel="stylesheet" href="~/css/siteLoggedLayout.css">
    <link rel="stylesheet" href="~/fonts/poppins/Poppins-Regular.ttf">
    <link rel="stylesheet" href="~/fonts/poppins/Poppins-Bold.ttf">
    <link rel="stylesheet" href="~/fonts/poppins/Poppins-Light.ttf">
    <link rel="stylesheet" href="~/css/media-queries.css">
    <link rel="stylesheet" href="~/css/creative.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="~/css/Menu.css" />

    <script src="~/js/jquery-3.6.1.min.js" type="text/javascript"></script>
    <script src="~/js/modernizr-2.6.2.min.js"></script>
    <script src='@Url.Content("~/js/bootstrap-5.2.1.min.js")' type="text/javascript"></script>
    <script src="~/js/bootstrap-5.2.1.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.32/jquery.form.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.11.1/jquery.validate.min.js"></script>
    <script src="~/js/jquery.easing.min.js"></script>
    <script src="~/js/custom.js"></script>
    <script src="~/js/validators.js"></script>
    <script src='@Url.Content("~/lib/Highcharts-4.2.5/js/highcharts.js")' type="text/javascript"></script>
    <script src='@Url.Content("~/lib/Highcharts-4.2.5/js/highcharts-3d.js")' type="text/javascript"></script>
    <script src='@Url.Content("~/lib/Highcharts-4.2.5/js/modules/exporting.js")' type="text/javascript"></script>

</head>

<body>
    <div class="dashboard">



        @if (UserCache.MenuItems != null)
        {
            <div class="sidebar">
                <div class="user-profile">
                    <div class="user-image"><img src="~/img/team/1.png" /></div>
                    <div class="user-name">Nicolas</div>
                </div>

                <div class="sidebar-menu">

                    @if (menuItems != null)
                    {
                        foreach (var parentMenu in menuItems.Where(p => p.IdParent == 0 || p.IdParent == null).OrderBy(x => x.Orden))
                        {
                            @if (!string.IsNullOrEmpty(parentMenu.Action))
                            {
                                <a href="#" onclick="window.location.assign('@Url.Action(parentMenu.Action, parentMenu.Controller)') ">@parentMenu.Descripcion</a>
                            }
                            
                            @if (menuItems.Any(p => p.IdParent == parentMenu.IdMenuItem))
                            {
                                @foreach (var itemNivel1 in menuItems.Where(p => p.IdParent == parentMenu.IdMenuItem).OrderBy(x => x.Orden))
                                {
                                    if (!menuItems.Any(p => p.IdParent == itemNivel1.IdMenuItem))
                                    {
                                        <a href="#" onclick="window.location.assign('@Url.Action(itemNivel1.Action, itemNivel1.Controller)') ">@itemNivel1.Descripcion</a>
                                    }
                                    else
                                    {
                                        <a href="#">@itemNivel1.Descripcion</a>
                                        @foreach (var itemNivel2 in menuItems.Where(p => p.IdParent == itemNivel1.IdMenuItem).OrderBy(x => x.Orden))
                                        {
                                            <a href="#" onclick="window.location.assign('@Url.Action(itemNivel2.Action, itemNivel2.Controller)') ">@itemNivel2.Descripcion</a>
                                        }
                                    }
                                }
                            }
                        }
                    }

                </div>

                <div class="logout-button">
                    <a>@Html.ActionLink("Salir", "Logout", "Home")</a>
                    <i class="fa fa-sign-out fa-lg" aria-hidden="true"></i>
                </div>
            </div>
                }
            
            @RenderBody()
        </div>

</body>
</html>

